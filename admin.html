<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Admin ‚Äî New Year CountDown</title>
<link id="cssUi" rel="stylesheet" href="css/ui.css">
<link id="cssStyle" rel="stylesheet" href="css/style.css">
<link id="cssAdmin" rel="stylesheet" href="css/admin.css">
</head>
<body>
<header class="topbar">
  <a class="brand" href="index.html">üéÑ New Year CountDown</a>
  <nav>
    <a class="link" href="#" id="gitID">GitHub</a>
    <a class="link" href="timer.html">–¢–∞–π–º–µ—Ä</a>
    <a class="link" href="about.html">–û–± –∞–≤—Ç–æ—Ä–µ</a>
  </nav>
</header>
<div class="spacer"></div>
<div class="wrap">
  <div class="card" id="loginCard">
    <h2>–í—Ö–æ–¥</h2>
    <form id="loginForm" class="row">
      <input id="adminPass" type="password" placeholder="–ü–∞—Ä–æ–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: Admin123)" autocomplete="current-password">
      <button type="submit" class="btn">–í–æ–π—Ç–∏</button>
    </form>
    <div id="loginMsg" style="margin-top:6px;opacity:.85"></div>
    <div style="margin-top:8px"><button id="openShare" class="btn">–°—Å—ã–ª–∫–∞ –¥–ª—è –≥–æ—Å—Ç–µ–π</button></div>
  </div>

  <div class="card" id="adminCard" style="display:none">
    <div class="tabs">
      <button class="tab-btn" data-tab="tab-settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      <button class="tab-btn" data-tab="tab-anim">–ê–Ω–∏–º–∞—Ü–∏–∏</button>
      <button class="tab-btn" data-tab="tab-media">–ú–µ–¥–∏–∞</button>
      <button class="tab-btn" data-tab="tab-playlist">–ü–ª–µ–π–ª–∏—Å—Ç</button>
      <button class="tab-btn" data-tab="tab-stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
      <button class="tab-btn" data-tab="tab-security">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</button>
      <button id="logoutBtn" style="margin-left:auto" class="btn">–í—ã–π—Ç–∏</button>
    </div>

    <div id="tab-settings" class="tab"></div>
    <div id="tab-anim" class="tab"></div>
    <div id="tab-media" class="tab"></div>
    <div id="tab-playlist" class="tab"></div>
    <div id="tab-stats" class="tab"></div>
    <div id="tab-security" class="tab"></div>
  </div>
</div>
<audio id="bgm" preload="none"></audio>
<script src="js/timer.js"></script>
<script src="js/admin.js?t=<?=time()?"></script>
<script src="js/ui.js?t=<?=time()?"></script>
<script>
(async()=>{try{
  const s=await (await fetch('/api/settings')).json();const v=s?.version||Date.now();
  document.getElementById('cssUi').href='css/ui.css?v='+v;
  document.getElementById('cssStyle').href='css/style.css?v='+v;
  document.getElementById('cssAdmin').href='css/admin.css?v='+v;
}catch{}})();
</script>
<script>
document.getElementById('openShare').onclick=async()=>{
  try{
    const j=await (await fetch('/api/share')).json();
    alert('–î–∞–π –≥–æ—Å—Ç—è–º —ç—Ç–∏ —Å—Å—ã–ª–∫–∏:\n\n–ì–ª–∞–≤–Ω–∞—è: '+j.index+'\n–¢–∞–π–º–µ—Ä: '+j.timer+'\n–ê–¥–º–∏–Ω (—Ç–æ–ª—å–∫–æ —Ç–µ–±–µ): '+j.admin+'\n\n–ï—Å–ª–∏ —É –Ω–∏—Ö ¬´—Ç–æ–ª—å–∫–æ HTML¬ª, –¥–æ–±–∞–≤—å ?v='+j.version+' –∫ URL.');
  }catch{alert('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫–∏')}
};
</script>
</body>
</html>
